(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t,o,r,i,s){let l={x:o.x,y:o.y+e,width:300,height:65,radius:0,color:t.allowed?x.mouse.hovers[t.hoverName]&&x.mouse.states.isDown?t.downColor??t.color:t.color:"gray",strokeColor:t.strokeColor,hover:t.hoverName,textColor:t.textColor??"white"};i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y,l.width,l.height,l.radius,l.color,l.strokeColor,l.hover),i.fill(),l.strokeColor&&i.stroke(),i.restore(),s.drawText(i,l.x,l.y,t.text,`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,l.textColor,l.strokeColor,l.hover),i.closePath()}function o(e,t,o,r,i,s){let l={x:o.x,y:o.y+e+(t.opened?16:0),width:300,height:t.opened?100:65,radius:0,actived:t.object[t.target]??t.actived,color:t.allowed?t.object[t.target]??t.actived?t.downColor??t.color:t.color:"gray",strokeColor:t.strokeColor,hover:t.hoverName,textColor:t.textColor??"white"};i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y,l.width,l.height,l.radius,l.color,"white",l.hover),i.fill(),t.opened&&i.stroke(),i.restore(),s.drawText(i,l.x,l.y-(t.opened?17:0),t.text,`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,l.textColor,l.strokeColor,l.hover),s.drawText(i,l.x-130,l.y,t.opened?"<":">",`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,t.allowed?l.actived?"lime":"red":"#696969",l.strokeColor,l.hover)&&t.allowed?t.isOnOption=!0:t.isOnOption=!1,t.opened&&s.drawText(i,l.x,l.y+20,t.description,`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,"grey",l.strokeColor,l.hover),i.closePath()}function r(e,t,o,r,i,s){let l={x:o.x,y:o.y+e+16,width:300,height:100,radius:10,color:t.allowed?t.color:"gray",valueColor:t.allowed?t.valueColor:"gray",strokeColor:t.strokeColor,hover:t.hoverName,textColor:t.textColor??"white"};i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y,l.width,l.height,3,l.color,l.strokeColor,!1),i.fill(),l.strokeColor&&i.stroke(),i.restore(),s.drawText(i,l.x,l.y-24,t.text,x.libClient.theme.fontSize-3+"px 'DynaPuff', cursive",l.textColor,!1,!1),i.closePath(),i.closePath(),i.save(),i.beginPath(),i.lineWidth=3,t.realx=l.x-110,s.drawRoundRect(i,l.x,l.y+20,220,10,4,"grey",l.strokeColor,!1),i.fill(),l.strokeColor&&i.stroke(),i.restore(),i.closePath(),i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x-110+220/t.end*(t.object[t.target]??t.current)/2,l.y+20,220/t.end*(t.object[t.target]??t.current),8,3,x.libClient.theme.slider.barColor,l.strokeColor,!1),i.fill(),l.strokeColor&&i.stroke(),i.restore(),i.save(),i.beginPath(),i.lineWidth=3,s.drawArc(i,l.x-110+220/t.end*(t.object[t.target]??t.current),l.y+25,l.radius,x.libClient.theme.slider.arcColor,l.strokeColor,l.hover),i.fill(),s.drawText(i,l.x+90,l.y,function(e){if((e=e.toString().replace(/[^0-9.]/g,""))<1e3)return e;let t,o=[{v:1e3,s:"K"},{v:1e6,s:"M"},{v:1e9,s:"B"},{v:1e12,s:"T"},{v:1e15,s:"P"},{v:1e18,s:"E"}];for(t=o.length-1;t>0&&!(e>=o[t].v);t--);return(e/o[t].v).toFixed(2).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+o[t].s}((t.object[t.target]??t.current).toFixed(2)),x.libClient.theme.fontSize-10+"px 'DynaPuff', cursive",l.textColor,!1,!1),l.strokeColor&&i.stroke(),i.restore(),i.closePath()}function i(e,t,o,r,i,s){let l={x:o.x,y:o.y+e,width:300,height:100,radius:0,key:t.object[t.target]??t.key,color:t.allowed?t.color:"gray",strokeColor:t.strokeColor,hover:t.hoverName,textColor:t.textColor??"white"};i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y+17,l.width,l.height,l.radius,l.color,l.strokeColor,l.hover),i.fill(),l.strokeColor&&i.stroke(),i.restore(),s.drawText(i,l.x,l.y-1,` Key ${t.text}: ${t.key}`,x.libClient.theme.fontSize-5+"px 'DynaPuff', cursive",x.libClient.theme.keybox.textColor,!1,l.hover),i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y+40,l.width-30,33,l.radius,x.libClient.theme.keybox.buttonColor,l.strokeColor,l.hover),i.fill(),l.strokeColor&&i.stroke(),i.restore(),s.drawText(i,l.x,l.y+40,t.actived?"Press any key":`Set ${t.text} Key`,`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,x.libClient.theme.keybox.textColor,!1,l.hover),i.closePath()}function s(e,t,o,r,i,s){let l={x:o.x,y:o.y+e,width:300,height:100+(t.actived?23*t.elements.length:0),radius:0,key:t.object[t.target]??t.key,color:t.allowed?t.color:"gray",strokeColor:t.strokeColor,hover:t.hoverName,textColor:t.textColor??"white",current:t.object[t.target]??t.current};if(i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y+17+(t.actived?11.5*t.elements.length:0),l.width,l.height,l.radius,l.color,"white",l.hover),i.fill(),i.stroke(),i.restore(),s.drawText(i,l.x,l.y,`${t.text}: ${l.current}`,x.libClient.theme.fontSize-5+"px 'DynaPuff', cursive",l.textColor,!1,!1),i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y+40,l.width-30,33,l.radius,x.libClient.theme.selectbox.buttonColor,"white",l.hover)&&(t.index=-1),i.fill(),i.stroke(),i.restore(),s.drawText(i,l.x,l.y+40,l.current,`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,x.libClient.theme.selectbox.textColor,!1,!1),s.drawText(i,l.x-120,l.y+45,"*",`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,x.libClient.theme.selectbox.textColor,!1,!1),s.drawText(i,l.x+120,l.y+45,"*",`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,x.libClient.theme.selectbox.textColor,!1,!1),i.closePath(),t.actived){let o=1;for(e=0;e<t.elements.length;e++){let r=t.elements[e];r!=l.current&&(o++,i.save(),i.beginPath(),i.lineWidth=3,s.drawRoundRect(i,l.x,l.y+8+32.5*o,l.width-30,33,l.radius,x.libClient.theme.selectbox.buttonColor,"white",l.hover,!0)&&(t.index=e),i.fill(),i.stroke(),i.restore(),s.drawText(i,l.x,l.y+8+32.5*o,r,`${x.libClient.theme.fontSize}px 'DynaPuff', cursive`,x.libClient.theme.selectbox.textColor,!1,!1),i.closePath())}}}function l(e,t){if("rainbow"==t){var o=e.createLinearGradient(0,0,500,0);return o.addColorStop(0,"hsl("+x.libClient.rainbow.a%360+",100%, 50%)"),o.addColorStop(1,"hsl("+x.libClient.rainbow.b%360+",100%, 50%)"),o}return t}e.d({},{Z:()=>x});const a={drawRoundRect:(e,t,o,r,i,s,a,n,h,c)=>(a&&(e.fillStyle=l(e,a)),n&&(e.strokeStyle=l(e,n)),h&&x.mouse.isInside({x:t,y:o,width:r/2,height:i/2})?x.mouse.hovers[h]=!0:x.mouse.hovers[h]&&!c&&delete x.mouse.hovers[h],e.roundRect(t-r/2,o-i/2,r,i,s),x.mouse.isInside({x:t,y:o,width:r/2,height:i/2})),drawRect:(e,t,o,r,i,s,a,n,h)=>(s&&(e.fillStyle=l(e,s)),a&&(e.strokeStyle=l(e,a)),n&&x.mouse.isInside({x:t,y:o,width:r/2,height:i/2})?x.mouse.hovers[n]=!0:x.mouse.hovers[n]&&!h&&delete x.mouse.hovers[n],e.rect(t-r/2,o-i/2,r,i),x.mouse.isInside({x:t,y:o,width:r/2,height:i/2})),drawText:(e,t,o,r,i,s,a)=>(i&&(e.font=i),s&&(e.fillStyle=l(e,s)),a&&(e.strokeStyle=l(e,a)),e.textBaseline="middle",e.textAlign="center",e.fillText(r,t,o),a&&e.strokeText(r,t,o),x.mouse.isInside({x:t,y:o,width:e.measureText(r).width/2,height:11})),drawArc:(e,t,o,r,i,s,a,n)=>(i&&(e.fillStyle=l(e,i)),s&&(e.strokeStyle=l(e,s)),a&&x.mouse.isInside({x:t-r/2,y:o-r/2,radius:2*r})?x.mouse.hovers[a]=!0:x.mouse.hovers[a]&&!n&&delete x.mouse.hovers[a],e.arc(t-r/2,o-r/2,r,2*Math.PI,!1),x.mouse.isInside({x:t-r/2,y:o-r/2,radius:2*r}))};class n{constructor(e,t,o,r,i,s,l,a,n){this.type="button",this.category=e,this.text=n,this.allowed=a,this.color=o??"white",this.strokeColor=r,this.textColor=i??"white",this.downColor=s??"gray",this.clickAction=l,this.hoverName=t}click(){this.clickAction(this.actived)}}class h{constructor(e,t,o,r,i){this.name=e,this.id=t,this.actived=!0,this.type="category",this.x=-1,this.y=-1,this.color=o,this.strokeColor=r,this.textColor=i,this.elements=[]}}class c{constructor(e,t,o,r,i,s,l,a,n,h,c,d,y){this.type="checkbox",this.category=e,this.text=h,this.object=c,this.target=d,this.allowed=n,this.actived=void 0!==this.object[this.target]?this.object[this.target]:a??!1,this.color=o??"white",this.strokeColor=r,this.textColor=i??"white",this.downColor=s??"gray",this.clickAction=l,this.hoverName=t,this.description=y,this.opened=!1,this.isOnOption=!1}click(){this.object[this.target]=!this.object[this.target],this.actived=this.object[this.target]??!this.actived,this.clickAction(this.actived)}}class d{constructor(e,t,o,r,i,s,l,a,n,h,c,d,y,u,v){this.type="slider",this.category=e,this.text=n,this.object=h,this.target=c,this.allowed=a,this.color=o??"white",this.strokeColor=r,this.textColor=i??"white",this.valueColor=s??"gray",this.action=l,this.hoverName=t,this.current=v,this.step=d,this.end=u,this.start=y,this.realx=e.x}changeAction(e){this.object[this.target]=e,this.current=this.object[this.target]??e,this.action(e)}}class y{constructor(e,t,o,r,i,s,l,a,n,h,c,d){this.type="key",this.category=e,this.text=n,this.allowed=a,this.key=c&&d?c[d]??h:h,this.object=c??{},this.target=d,this.color=o??"white",this.strokeColor=r,this.textColor=i??"white",this.downColor=s??"gray",this.changeAction=l,this.hoverName=t,this.actived=!1}change(e){this.object[this.target]=e,this.key=this.object[this.target],this.changeAction(e)}}class u{constructor(e,t,o,r,i,s,l,a,n,h,c,d,y){this.type="select",this.category=e,this.text=n,this.object=h,this.target=c,this.allowed=a,this.color=o??"white",this.strokeColor=r,this.textColor=i??"white",this.downColor=s??"gray",this.clickAction=l,this.hoverName=t,this.opened=!1,this.elements=d,this.current=void 0!==this.object[this.target]?this.object[this.target]:y??d[0],this.index=0}change(e){this.actived=!1,this.object[this.target]=e,this.current=this.object[this.target]??e,this.clickAction(this.actived)}}let v={render:new class{constructor(e){this.canvas=void 0,this.createCanvas()}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.id=(Math.random()+1).toString(36).substring(2),this.canvas.style.position="absolute",document.body.insertBefore(this.canvas,document.body.firstChild),this.ctx=this.canvas.getContext("2d")}clientLoaded(){this.canvas.actived=x.actived,this.canvas.style.backgroundColor="transparent",this.canvas.style.opacity=x.actived?1:0,this.canvas.style.zIndex=x.actived?999:0,this.renderGui(),this.loadFont()}reset(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}loadFont(){var e=document.createElement("div");e.innerHTML="\n        <style>\n        @import url('https://fonts.googleapis.com/css2?family=DynaPuff&display=swap');\n        </style>",document.body.appendChild(e)}renderGui(){if(!this.actived)return this.canvas.style.opacity=0,this.canvas.style.zIndex=0;this.reset(),this.ctx.globalAlpha=x.libClient.theme.opacity;let e=[this.canvas,this.ctx,a];!function(e,t,o){t.save(),t.beginPath(),t.globalAlpha=x.opacity,o.drawRoundRect(t,window.innerWidth/2,window.innerHeight/2,window.innerWidth,window.innerHeight,0,x.libClient.backgroundColor,void 0,void 0),t.fill(),t.restore(),t.closePath()}(...e),function(e,l,a){l.resetTransform();for(var n=0;n<x.libClient.categories.length;n++){let e=x.libClient.categories[n],c={x:-1==e.x?310*(n+1)-100:e.x,y:-1==e.y?65:e.y,width:300,height:65,radius:10,color:e.color??"gray",strokeColor:e.strokeColor,hover:e.id,textColor:e.textColor??"white"};if(!e.actived)continue;e.x=c.x,e.y=c.y,l.save(),l.beginPath(),l.lineWidth=3,a.drawRoundRect(l,c.x,c.y,c.width,c.height,c.radius,c.color,c.strokeColor,c.hover),l.fill(),c.strokeColor&&l.stroke(),l.restore(),a.drawText(l,c.x,c.y,e.name,`${x.libClient.theme.titleFontSize}px 'DynaPuff', cursive`,c.textColor,c.strokeColor,c.hover),l.closePath();let d=0;for(var h=0;h<e.elements.length;h++){d+=h?64.5:60;let l=e.elements[h],a=[d,l,e,...arguments];switch(l.type){case"button":t(...a);break;case"checkbox":o(...a),l.opened&&(d+=36.75);break;case"color":break;case"slider":r(...a),d+=36.75;break;case"key":i(...a),d+=36.75;break;case"select":s(...a),d+=36.75,l.actived&&(d+=23*l.elements.length);break;default:console.log(l.type)}}}}(...e),x.libClient.rainbow.a+=1.25,x.libClient.rainbow.b+=1.25,requestAnimationFrame(this.renderGui.bind(this))}}(!0),mouse:new class{constructor(){this.x=0,this.y=0,this.start={x:0,y:0,element:void 0},this.states={isDown:!1,dragged:!1},this.hovers=[]}getDistance(e){return Math.sqrt((this.x-e.x)**2+(this.y-e.y)**2)}isInside(e){return e.radius?this.getDistance(e)<e.radius:this.x>e.x-e.width&&this.y>e.y-e.height&&this.x<e.x+e.width&&this.y<e.y+e.height}listenEvents(){x.render.canvas.addEventListener("mousemove",(e=>{if(Object.keys(this.hovers).length&&x.render.actived){let e=x.libClient.getById(Object.keys(x.mouse.hovers)[0]);"category"==e.type?x.render.canvas.style.cursor="grab":e.allowed?x.render.canvas.style.cursor="pointer":x.render.canvas.style.cursor="not-allowed"}else x.render.canvas.style.cursor="default";if(x.render.actived&&(e.stopPropagation(),this.x=e.x,this.y=e.y,+new Date-this.states.isDown>60&&this.states.isDown)){this.states.dragged=!0;let e=this.start.element;if(!e)return;if("category"==e.type)e.x=this.x-this.start.x,e.y=this.y-this.start.y;else if("slider"==e.type){let t=e.current;e.current=(this.x-e.realx)/(220/e.end),e.current=Math.min(Math.max(e.start,e.current),e.end),e.current!==t&&e.changeAction(e.current)}else e.category.x=this.x-this.start.x,e.category.y=this.y-this.start.y}})),x.render.canvas.addEventListener("mousedown",(e=>{if(!x.render.actived)return;e.stopPropagation();let t=x.libClient.getById(Object.keys(x.mouse.hovers)[0]);t&&(this.start.element=t,"category"==t.type?(this.start.x=e.x-t.x,this.start.y=e.y-t.y):(this.start.x=e.x-t.category.x,this.start.y=e.y-t.category.y),this.states.isDown=+new Date)})),x.render.canvas.addEventListener("mouseup",(e=>{if(!x.render.actived)return;if(e.stopPropagation(),this.states.isDown=!1,this.start.element=void 0,this.states.dragged)return this.states.dragged=!1;let t=x.libClient.getById(Object.keys(x.mouse.hovers)[0]);if(t){if(t.click&&t.allowed&&!t.isOnOption&&t.click(),t.isOnOption)return t.opened=!t.opened;if("select"==t.type&&-1==t.index)return t.actived=!t.actived;"select"==t.type&&t.change(t.elements[t.index]),"key"!=t.type||x.keyboard.hovers[t.hoverName]?"key"==t.type&&(delete x.keyboard.hovers[t.hoverName],t.actived=!1):(x.keyboard.hovers[t.hoverName]=!0,t.actived=!0)}}))}},keyboard:new class{constructor(){this.hovers=[],this.listenEvents()}listenEvents(){document.addEventListener("keyup",(e=>{let t=x.libClient.getById(Object.keys(x.keyboard.hovers)[0])??null;return e.code===x.key&&(x.render.actived=!x.render.actived,x.render.actived)?(x.render.canvas.style.opacity=1,x.render.canvas.style.zIndex=999,x.render.renderGui(),!0):t&&"key"==t.type&&t.actived&&(t.actived=!1,delete x.keyboard.hovers[t.hoverName],e.stopPropagation(),"Escape"!=e.code)?t.change(e.code):void 0}))}},libClient:new class{constructor(){this.categories=[],this.font=void 0,this.backgroundColor="black",this.theme={opacity:.8,titleFontSize:30,fontSize:26,normal:{color:"white",strokeColor:!1,textColor:"white",downColor:"gray"},title:{color:"white",strokeColor:!1,textColor:"white",downColor:"gray"},keybox:{buttonColor:"black",textColor:"white"},slider:{arcColor:"gray",barColor:"gray"},selectbox:{buttonColor:"black",textColor:"white"}},this.oldCategory="",this.rainbow={a:360*Math.random(),b:360*Math.random()},this.ElementsHovers=[]}addElement(){let e,t=arguments[0],o=[];if(o.type=t.type.toLowerCase(),o.action=t.action??t.event,o.name=t.text??t.name,o.isCategory="folder"==o.type||"file"==o.type||"category"==o.type,o.category=t.file??t.folder??t.category??this.oldCategory,o.color=t.color??t.col??(o.isCategory?this.theme.title.color:this.theme.normal.color),o.strokeColor=t.strokeColor??t.scolor??(o.isCategory?this.theme.title.strokeColor:this.theme.normal.strokeColor)??!1,o.textColor=t.tColor??t.textcolor??(o.isCategory?this.theme.title.textColor:this.theme.normal.textColor),o.downColor=t.downColor??t.dcolor??(o.isCategory?this.theme.title.downColor:this.theme.normal.downColor),o.elements=t.elements??t.element??t.objects,o.actived=t.on??t.used??t.actived,o.allowed=t.allowed??t.trusted??t.whitelisted??!0,o.object=t.object??t.array??t.json,o.key=t.key??t.keybox??t.k,o.target=t.property??t.target,o.start=t.start??t.first??0,o.end=t.end??t.last??100,o.step=t.step??1,o.current=t.current??t.now??t.middle??5,o.id=this.getRandomId(),o.description=t.description??t.desc??t.info??"nothing here",!o.type)throw new Error("[ libClient ]: you need to add a type to the element");if(!o.category&&!o.isCategory)throw new Error("[ libClient ]: you need to specify a category");if(!o.isCategory)for(var r=0;r<this.categories.length;r++)if(this.categories[r].name==o.category){e=this.categories[r];break}switch(o.type.toLowerCase()){case"clicker":case"b":case"button":{let t=new n(e,o.id,o.color,o.strokeColor,o.textColor,o.downColor,o.action,o.allowed,o.name);return this.ElementsHovers[o.id]=t,e.elements.push(t),t}case"check":case"checkbox":{let t=new c(e,o.id,o.color,o.strokeColor,o.textColor,o.downColor,o.action,o.actived,o.allowed,o.name,o.object,o.target,o.description);return this.ElementsHovers[o.id]=t,e.elements.push(t),t}case"selectmenu":case"selectbox":case"select":{let t=new u(e,o.id,o.color,o.strokeColor,o.textColor,o.downColor,o.action,o.allowed,o.name,o.object,o.target,o.elements,o.current);return this.ElementsHovers[o.id]=t,e.elements.push(t),t}case"slider":case"slide":case"mover":{let t=new d(e,o.id,o.color,o.strokeColor,o.textColor,o.downColor,o.action,o.allowed,o.name,o.object,o.target,o.step,o.start,o.end,o.current);return this.ElementsHovers[o.id]=t,e.elements.push(t),t}case"file":case"folder":case"category":{this.oldCategory=o.name;let e=new h(o.name,o.id,o.color,o.strokeColor,o.textColor);return this.ElementsHovers[o.id]=e,this.categories.push(e),e}case"key":case"keybox":{let t=new y(e,o.id,o.color,o.strokeColor,o.textColor,o.downColor,o.action,o.allowed,o.name,o.key,o.object,o.target);return this.ElementsHovers[o.id]=t,e.elements.push(t),t}default:throw new Error(` Undefined type ${o.type} `)}}getById(e){return this.ElementsHovers[e]}getRandomId(){return(Math.random()+1).toString(36).substring(2)+(Math.random()+1).toString(36).substring(2)}removeElement(e){if("category"!=e.type)for(var t=0;t<e.category.elements.length;t++)e.category.elements[t].hoverName==e.hoverName&&e.category.elements.splice(t,1);else for(var o=0;o<this.categories.length;o++){let t=this.categories[o];t.id==e.id&&(e.elements=[],t.splice(o,1))}}},key:"ShiftLeft",opacity:.5,actived:!1};window.Client=v;const x=v;v.mouse.listenEvents(),v.render.clientLoaded()})();
